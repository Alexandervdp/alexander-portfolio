<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Alexander Van den Putte | Portfolio</title>
    
    <!-- Typography: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.7.0/vanilla-tilt.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.12/typed.min.js"></script>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <!-- Three.js for High-Fidelity 3D Rendering -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <style>
        :root {
            /* Brand Colors */
            --primary: #4DB6AC;
            --primary-dark: #004d40;
            --primary-glow: rgba(77, 182, 172, 0.5);
            
            /* Background Gradient Colors */
            --bg-center: #172a45; /* Darkish Blue Center */
            --bg-edge: #020202;   /* Deep Black Edge */
            
            /* Glass UI - Enhanced */
            --glass-bg: linear-gradient(145deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%);
            --glass-border: rgba(255, 255, 255, 0.1);
            --glass-blur: 16px;
            --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
            
            /* Radius */
            --radius-card: 24px;
            --radius-dock: 24px;
            
            --text-white: #ffffff;
            --text-muted: #94a3b8;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            /* The Vignette: Radial gradient from blue center to black edges */
            background: radial-gradient(circle at 50% 30%, var(--bg-center), var(--bg-edge) 80%);
            background-attachment: fixed; /* Keeps gradient in place while scrolling */
            color: var(--text-white);
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
            min-height: 100vh;
            line-height: 1.6;
        }

        /* --- 1. LIGHTWEIGHT BACKGROUND (Particles) --- */
        #particles-js {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            opacity: 0.6; 
        }

        /* --- 2. THE "LAVA" LOGO (3D Container) --- */
        .lava-orb-container {
            position: relative;
            width: 180px; /* Increased size for better visibility of the 3D detail */
            height: 180px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
        }
        
        .lava-orb-container canvas {
            outline: none;
            /* Subtle CSS bloom outside canvas to blend it with the page */
            filter: drop-shadow(0 0 20px rgba(77, 182, 172, 0.2)); 
        }

        /* --- 3. LAYOUT STRUCTURE --- */
        .main-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 1.5rem 8rem; 
        }

        section {
            margin-bottom: 6rem;
            opacity: 0; 
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* --- 4. HERO SECTION --- */
        .hero {
            min-height: 90vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
            position: relative;
        }

        .hero-top {
            display: flex;
            align-items: center;
            gap: 1rem; /* Reduced gap to bring text closer to orb */
            margin-bottom: 2rem;
        }

        .hero-title {
            font-size: clamp(3rem, 6vw, 5rem);
            font-weight: 800;
            line-height: 1.1;
            letter-spacing: -0.02em;
            background: linear-gradient(to bottom right, #ffffff 30%, #94a3b8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .hero-subtitle {
            font-size: 1.2rem;
            color: var(--text-muted);
            display: flex;
            align-items: center;
            gap: 1rem;
            min-height: 1.6em;
        }

        .hero-scroll-indicator {
            position: absolute;
            bottom: 2rem;
            left: 0;
            color: var(--text-muted);
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            animation: bounce 2s infinite;
        }

        @keyframes bounce { 0%, 20%, 50%, 80%, 100% {transform: translateY(0);} 40% {transform: translateY(-5px);} 60% {transform: translateY(-3px);} }

        /* --- 5. SECTIONS & CARDS --- */
        .section-header {
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--primary);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-shadow: 0 0 10px rgba(77, 182, 172, 0.3);
        }

        .section-header::after {
            content: '';
            height: 1px;
            flex-grow: 1;
            background: linear-gradient(90deg, var(--primary), transparent);
            opacity: 0.3;
            margin-left: 1rem;
        }

        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(var(--glass-blur));
            -webkit-backdrop-filter: blur(var(--glass-blur));
            border: 1px solid var(--glass-border);
            border-top: 1px solid rgba(255,255,255,0.15);
            border-radius: var(--radius-card);
            box-shadow: var(--glass-shadow);
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .glass-card:hover {
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        }

         /* --- FEATURED PROJECT CARD --- */
        .project-card {
            display: flex; 
            text-decoration: none;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-card);
            overflow: hidden;
            transition: transform 0.4s ease, border-color 0.4s ease;
            cursor: pointer;
        }

        .project-card:hover {
            transform: scale(1.01);
            border-color: rgba(255,255,255,0.2);
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
        }

        .project-img-container {
            flex: 2; 
            position: relative;
            overflow: hidden;
            border-right: 1px solid var(--glass-border); 
        }

        .project-img {
            width: 100%;
            height: 100%;
            object-fit: cover; 
            transition: transform 0.6s ease;
        }

        .project-card:hover .project-img { transform: scale(1.05); }

        .project-content-split {
            flex: 3; 
            padding: 2.5rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative; 
        }

        .project-content-split::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to right, rgba(0,0,0,0.3), transparent);
            z-index: -1;
        }

        .project-title {
            font-size: 2rem;
            font-weight: 700;
            color: #fff;
            margin-bottom: 0.5rem;
        }
        
        .project-overlay {
            position: absolute;
            bottom: 0; left: 0; width: 100%;
            background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.6) 50%, transparent 100%);
            padding: 2.5rem;
            backdrop-filter: blur(2px); 
        }

        /* --- TAG STYLES --- */
        .project-tag {
            display: inline-block;
            background: var(--primary);
            color: #000;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 700;
            margin-bottom: 0.8rem;
            text-transform: uppercase;
            box-shadow: 0 0 15px var(--primary-glow);
        }

        /* Award Tag */
        .award-tag {
            display: inline-block;
            background: var(--primary); /* Turqoise */
            color: #000; 
            padding: 6px 14px; 
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-transform: uppercase;
            box-shadow: 0 0 20px var(--primary-glow); 
            border: 1px solid rgba(255,255,255,0.1);
            width: max-content; 
        }

        /* --- SECONDARY GRID --- */
        .secondary-projects-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }
        .small-project-card {
            display: flex;
            flex-direction: column;
            height: 100%;
            text-decoration: none;
        }
        .small-project-card:hover { transform: translateY(-5px); }
        
        .small-project-img-wrapper {
            height: 200px;
            overflow: hidden;
            border-bottom: 1px solid var(--glass-border);
        }
        .small-project-content { padding: 1.5rem; }
        .small-project-title { color: #fff; margin-bottom: 0.5rem; font-size: 1.2rem; font-weight: 600; }
        .small-project-desc { color: var(--text-muted); font-size: 0.9rem; line-height: 1.5; }

        /* --- INFO GRID --- */
        .info-grid {
            display: grid;
            grid-template-columns: 1.5fr 1fr;
            gap: 1.5rem;
        }
        .info-pad { padding: 2rem; }

        .skills-wrapper {
            display: flex;
            flex-wrap: wrap;
            gap: 0.6rem;
            margin-top: 1rem;
        }
        .skill-pill {
            padding: 6px 14px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 100px;
            font-size: 0.85rem;
            color: #e2e8f0;
            transition: all 0.2s;
        }
        .skill-pill:hover { 
            background: rgba(77, 182, 172, 0.15); 
            border-color: var(--primary); 
            color: var(--primary); 
            box-shadow: 0 0 10px var(--primary-glow);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        .stat-item small { display: block; color: var(--text-muted); font-size: 0.75rem; text-transform: uppercase; margin-bottom: 0.2rem;}
        .stat-item span { font-size: 1.5rem; font-weight: 700; color: #fff; text-shadow: 0 2px 10px rgba(0,0,0,0.5); }

        /* --- DOCK --- */
        .dock-wrapper {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            width: auto;
        }

        .dock {
            background: rgba(15, 20, 30, 0.6); 
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.1);
            border-top: 1px solid rgba(255,255,255,0.2);
            padding: 0.8rem 1rem;
            border-radius: var(--radius-dock);
            display: flex;
            gap: 1rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
        }

        .dock-icon {
            width: 50px; height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 16px;
            color: var(--text-muted);
            font-size: 1.3rem;
            text-decoration: none;
            background: rgba(255,255,255,0.03);
            border: 1px solid transparent;
            transition: all 0.2s cubic-bezier(0.2, 0.8, 0.2, 1);
            position: relative;
        }

        .dock-icon:hover {
            transform: translateY(-8px) scale(1.1);
            background: rgba(255,255,255,0.1);
            border-color: rgba(255,255,255,0.2);
            color: #fff;
        }

        .dock-icon.active {
            background: var(--primary);
            color: #000;
            box-shadow: 0 0 20px var(--primary-glow);
        }

        .dock-icon::before {
            content: attr(data-title);
            position: absolute;
            top: -40px; left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8); color: #fff;
            padding: 4px 10px; border-radius: 6px;
            font-size: 0.75rem; opacity: 0;
            pointer-events: none; transition: 0.2s; white-space: nowrap;
            backdrop-filter: blur(4px);
            border: 1px solid rgba(255,255,255,0.1);
        }
        .dock-icon:hover::before { opacity: 1; top: -50px; }

        /* --- RESPONSIVE --- */
        @media (max-width: 768px) {
            .hero { justify-content: center; min-height: 85vh; }
            .hero-top { flex-direction: column-reverse; align-items: center; gap: 2rem; text-align: center; }
            
            /* Adjust blob size on mobile */
            .lava-orb-container { width: 140px; height: 140px; margin-right: 0; margin-bottom: 1rem; }
            
            .hero-title { font-size: 3rem; }
            .hero-subtitle { justify-content: center; }

            .project-card { flex-direction: column; }
            .project-img-container { 
                flex: none;
                height: 250px; 
                border-right: none;
                border-bottom: 1px solid var(--glass-border);
            }
            .project-content-split { flex: none; padding: 2rem; }
            
            .info-grid, .secondary-projects-grid { grid-template-columns: 1fr; }
            
            .dock-wrapper { bottom: 1.5rem; width: 90%; }
            .dock { justify-content: space-between; width: 100%; gap: 0; padding: 0.8rem; }
            .dock-icon { width: 45px; height: 45px; }
        }
    </style>
</head>
<body>

    <!-- 1. LIGHTWEIGHT BACKGROUND -->
    <div id="particles-js"></div>

    <div class="main-container">
        
        <!-- HERO SECTION -->
        <section class="hero reveal">
            <div class="hero-top">
                <!-- 3D Canvas Container -->
                <div id="lava-orb-container" class="lava-orb-container"></div>
                
                <div>
                    <div style="color: var(--primary); font-weight: 600; margin-bottom: 0.5rem; letter-spacing: 2px; font-size: 0.9rem;">HELLO, I AM</div>
                    <h1 class="hero-title">Alexander<br>Van den Putte</h1>
                </div>
            </div>
            
            <div class="hero-subtitle">
                <span id="typed-text"></span>
            </div>

            <div class="hero-scroll-indicator">
                SCROLL TO EXPLORE <i class="fas fa-chevron-down"></i>
            </div>
        </section>

        <!-- THESIS SECTION -->
        <section class="reveal">
            <div class="section-header"><i class="fas fa-star"></i> Featured Thesis</div>
            
            <a href="projects.html" class="project-card">
                <div class="project-img-container">
                    <img src="resources/ornithopter.jpg" alt="Ornithopter" class="project-img" onerror="this.src='https://placehold.co/600x400/1a1a1a/4DB6AC?text=Ornithopter+Thesis'">
                </div>
                <div class="project-content-split">
                    <span class="award-tag">Award Winner</span>
                    <h2 class="project-title">Biomechanical Ornithopter</h2>
                    <p style="color: #e2e8f0; max-width: 600px;">
                        Designing and prototyping a robotic bird that precisely mimics biological flight mechanics. 
                        Winner of "Pitch je STEM-project" 2025.
                    </p>
                </div>
            </a>
        </section>

        <!-- SECONDARY PROJECTS -->
        <section class="reveal">
            <div class="section-header"><i class="fas fa-hammer"></i> Maker Spirit</div>
            <div class="secondary-projects-grid">
                <a href="projects.html" class="glass-card small-project-card">
                    <div class="small-project-img-wrapper">
                        <img src="resources/prototyping.jpg" alt="Prototyping" class="project-img" onerror="this.src='https://placehold.co/600x400/1a1a1a/4DB6AC?text=Prototyping'">
                    </div>
                    <div class="small-project-content">
                        <h3 class="small-project-title">Personal Prototyping</h3>
                        <p class="small-project-desc">
                            Using 3D printing, lasercutting, and electronics to invent new products and repair broken parts. A hands-on thinker and maker.
                        </p>
                    </div>
                </a>
                <a href="projects.html" class="glass-card small-project-card">
                    <div class="small-project-img-wrapper">
                        <img src="resources/maakplek.jpg" alt="Maakplek" class="project-img" onerror="this.src='https://placehold.co/600x400/1a1a1a/4DB6AC?text=De+Maakplek'">
                    </div>
                    <div class="small-project-content">
                        <h3 class="small-project-title">Volunteer at 'De Maakplek'</h3>
                        <p class="small-project-desc">
                            Volunteering at a public makerspace in Westerlo. I help people use technologies like 3D printers and lasercutters, and develop workshops.
                        </p>
                    </div>
                </a>
            </div>
        </section>

        <!-- PROFILE & SKILLS -->
        <section class="reveal">
            <div class="section-header"><i class="fa-solid fa-gears"></i> The Engineer</div>
            <div class="info-grid">
                <div class="glass-card info-pad">
                    <h3 style="font-size: 1.5rem; margin-bottom: 1rem; color: #fff;">Problem Solver & Maker.</h3>
                    <p style="color: var(--text-muted); margin-bottom: 1.5rem;">
                        I am an Industrial Engineering student at KU Leuven specializing in Electromechanics, with a focus on design and project management.
			<br><br>I bridge the gap between mechanical design and digital control, building systems that are modular, efficient, and reliable.
                    </p>
                    <br><br><a href="about.html" style="color: var(--primary); text-decoration: none; font-weight: 600; display: flex; align-items: center; gap: 0.5rem;">
                        Read Full Profile <i class="fas fa-arrow-right"></i>
                    </a>
                </div>

                <div class="glass-card info-pad">
                    <div>
                        <strong style="color: #fff; display: block; margin-bottom: 0.5rem;">Technical Arsenal</strong>
                        <div class="skills-wrapper">
                            <span class="skill-pill">Inventor</span>
                            <span class="skill-pill">MS365</span>
                            <span class="skill-pill">Python</span>
                            <span class="skill-pill">TIA Portal</span>
                            <span class="skill-pill">MATLAB</span>
                            <span class="skill-pill">Abaqus</span>
                        </div>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-item">
                            <small>Thesis Award</small>
                            <span class="counter" data-target="1">0</span>
                        </div>
                        <div class="stat-item">
                            <small>Placements</small>
                            <span class="counter" data-target="5">0</span>
                        </div>
                        <div class="stat-item">
                            <small>Graduation</small>
                            <span class="counter" data-target="2026">0</span>
                        </div>
                        <div class="stat-item">
                            <small>Status</small>
                            <span style="color: var(--primary); font-size: 1rem; text-transform: uppercase; font-weight: 800;">Open</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CALL TO ACTION -->
        <section class="reveal" style="text-align: center; padding: 4rem 0;">
            <h2 style="font-size: 2rem; margin-bottom: 1rem; color: #fff;">Ready to connect?</h2>
            <p style="color: var(--text-muted); margin-bottom: 2rem;">
                contact me to start building something new together
            </p>
            <a href="contact.html" style="display: inline-block; padding: 1rem 3rem; background: var(--primary); color: #000; border-radius: 50px; text-decoration: none; font-weight: 700; transition: transform 0.2s; box-shadow: 0 0 20px var(--primary-glow);">
                Let's Talk
            </a>
        </section>
    </div>

    <!-- DOCK NAVIGATION -->
    <div class="dock-wrapper">
        <nav class="dock">
            <a href="index.html" class="dock-icon active" data-title="Home">
                <i class="fas fa-home"></i>
            </a>
            <a href="about.html" class="dock-icon" data-title="About">
                <i class="fas fa-user"></i>
            </a>
            <a href="projects.html" class="dock-icon" data-title="Projects">
                <i class="fas fa-layer-group"></i>
            </a>
            <a href="contact.html" class="dock-icon" data-title="Contact">
                <i class="fas fa-envelope"></i>
            </a>
            <div style="width: 1px; background: rgba(255,255,255,0.1); height: 30px; margin: auto 0.2rem;"></div>
            <a href="https://www.linkedin.com/in/alexander-van-den-putte-6183b81a0/" target="_blank" class="dock-icon" data-title="LinkedIn">
                <i class="fab fa-linkedin"></i>
            </a>
        </nav>
    </div>

    <!-- --- SCRIPTS --- -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            // 1. Particles
            particlesJS("particles-js", {
                "particles": {
                    "number": { "value": 40, "density": { "enable": true, "value_area": 800 } },
                    "color": { "value": "#4DB6AC" },
                    "shape": { "type": "circle" },
                    "opacity": { "value": 0.2, "random": true },
                    "size": { "value": 3, "random": true },
                    "line_linked": { "enable": true, "distance": 150, "color": "#4DB6AC", "opacity": 0.1, "width": 1 },
                    "move": { "enable": true, "speed": 1, "direction": "none", "random": false, "straight": false, "out_mode": "out", "bounce": false }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": { "onhover": { "enable": true, "mode": "grab" }, "onclick": { "enable": true, "mode": "push" }, "resize": true },
                    "modes": { "grab": { "distance": 140, "line_linked": { "opacity": 0.5 } } }
                },
                "retina_detect": true
            });

            // 2. Typed.js
            new Typed('#typed-text', {
                strings: [
                    'Master\'s Student @ KU Leuven.',
                    'Specializing in Electromechanics.',
                    'Problem-Solver & Innovator.',
                    'Reliability Specialist.'
                ],
                typeSpeed: 40,
                backSpeed: 25,
                backDelay: 2000,
                loop: true
            });

            // 3. Scroll Reveal
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        const counters = entry.target.querySelectorAll('.counter');
                        counters.forEach(counter => animateCounter(counter));
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.reveal').forEach(section => {
                observer.observe(section);
            });

            function animateCounter(element) {
                if(element.classList.contains('counted')) return;
                element.classList.add('counted');
                const target = parseInt(element.getAttribute('data-target'));
                if (isNaN(target)) return;
                let start = 0; let duration = 1500; 
                if (target > 2000) { start = 2000; }
                const stepTime = 20; const steps = duration / stepTime;
                const increment = (target - start) / steps;
                const timer = setInterval(() => {
                    start += increment;
                    if ((increment > 0 && start >= target) || (increment < 0 && start <= target)) {
                        start = target; clearInterval(timer);
                    }
                    element.textContent = Math.floor(start);
                }, stepTime);
            }

            // 4. Tilt
            if (window.innerWidth > 768) {
                VanillaTilt.init(document.querySelectorAll(".glass-card, .project-card"), {
                    max: 3, speed: 400, glare: true, "max-glare": 0.1, scale: 1.01
                });
            }

            // ------------------------------------------------------------
            // 5. HIGH QUALITY 3D BLOB (Three.js + GLSL Shaders)
            // ------------------------------------------------------------
            const container = document.getElementById('lava-orb-container');
            let scene, camera, renderer, blob, material;

            function initBlob() {
                const width = container.clientWidth;
                const height = container.clientHeight;

                scene = new THREE.Scene();
                
                // Perspective Camera for 3D depth
                camera = new THREE.PerspectiveCamera(45, width / height, 0.1, 1000);
                camera.position.z = 3.5; // Updated to match tuner

                renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
                renderer.setSize(width, height);
                renderer.setPixelRatio(window.devicePixelRatio); // Crucial for "High Quality" crispness
                container.appendChild(renderer.domElement);

                // GLSL Vertex Shader: Simplex Noise displacement
                // This physically moves the vertices of the sphere
                const vertexShader = `
                    uniform float time;
                    uniform float roughness;
                    uniform float density;
                    varying vec2 vUv;
                    varying vec3 vNormal;
                    varying vec3 vPosition;
                    varying float vDisplacement;

                    // Classic Perlin 3D Noise 
                    vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
                    vec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
                    vec4 permute(vec4 x) { return mod289(((x*34.0)+1.0)*x); }
                    vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
                    float snoise(vec3 v) { 
                        const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
                        const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);
                        // First corner
                        vec3 i  = floor(v + dot(v, C.yyy) );
                        vec3 x0 = v - i + dot(i, C.xxx) ;
                        // Other corners
                        vec3 g = step(x0.yzx, x0.xyz);
                        vec3 l = 1.0 - g;
                        vec3 i1 = min( g.xyz, l.zxy );
                        vec3 i2 = max( g.xyz, l.zxy );
                        vec3 x1 = x0 - i1 + C.xxx;
                        vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y
                        vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y
                        // Permutations
                        i = mod289(i); 
                        vec4 p = permute( permute( permute( 
                                    i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
                                + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) 
                                + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));
                        // Gradients: 7x7 points over a square, mapped onto an octahedron.
                        // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)
                        float n_ = 0.142857142857; // 1.0/7.0
                        vec3  ns = n_ * D.wyz - D.xzx;
                        vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)
                        vec4 x_ = floor(j * ns.z);
                        vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)
                        vec4 x = x_ *ns.x + ns.yyyy;
                        vec4 y = y_ *ns.x + ns.yyyy;
                        vec4 h = 1.0 - abs(x) - abs(y);
                        vec4 b0 = vec4( x.xy, y.xy );
                        vec4 b1 = vec4( x.zw, y.zw );
                        vec4 s0 = floor(b0)*2.0 + 1.0;
                        vec4 s1 = floor(b1)*2.0 + 1.0;
                        vec4 sh = -step(h, vec4(0.0));
                        vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
                        vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;
                        vec3 p0 = vec3(a0.xy,h.x);
                        vec3 p1 = vec3(a0.zw,h.y);
                        vec3 p2 = vec3(a1.xy,h.z);
                        vec3 p3 = vec3(a1.zw,h.w);
                        //Normalise gradients
                        vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
                        p0 *= norm.x;
                        p1 *= norm.y;
                        p2 *= norm.z;
                        p3 *= norm.w;
                        // Mix final noise value
                        vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
                        m = m * m;
                        return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), 
                                                    dot(p2,x2), dot(p3,x3) ) );
                    }

                    void main() {
                        vUv = uv;
                        vNormal = normal;
                        
                        // Noise determines how much to push the vertex out along its normal
                        float noise = snoise(position * density + time);
                        
                        // Pass noise to fragment for coloring
                        vDisplacement = noise;
                        
                        // Multiply by roughness to control spike height
                        vec3 newPos = position + normal * noise * roughness;
                        vPosition = newPos;
                        
                        gl_Position = projectionMatrix * modelViewMatrix * vec4(newPos, 1.0);
                    }
                `;

                // GLSL Fragment Shader: "Solid Liquid" Look
                // Calculates color, Fresnel glow, and gloss
                const fragmentShader = `
                    uniform vec3 colorBase;
                    uniform vec3 colorDark;
                    uniform vec3 colorHigh;
                    
                    uniform float fresnelPower;
                    uniform float fresnelInt;
                    uniform float specularInt;
                    
                    varying vec2 vUv;
                    varying vec3 vNormal;
                    varying vec3 vPosition;
                    varying float vDisplacement;

                    void main() {
                        // 1. Base Color Mix based on noise displacement (Depth)
                        // Deeper parts are darker, raised parts are lighter
                        float mixFactor = smoothstep(-0.5, 0.5, vDisplacement);
                        vec3 base = mix(colorDark, colorBase, mixFactor);

                        // 2. Fresnel Effect (The Glowing Edge)
                        // Calculates angle between view direction and surface normal
                        vec3 viewDir = normalize(cameraPosition - vPosition);
                        vec3 normal = normalize(vNormal);
                        float fresnel = pow(1.0 - dot(viewDir, normal), fresnelPower);
                        
                        // 3. Specular Highlight (Glossiness)
                        vec3 lightDir = normalize(vec3(1.0, 1.0, 1.0));
                        float specular = pow(max(dot(reflect(-lightDir, normal), viewDir), 0.0), 16.0);

                        // Combine layers
                        vec3 finalColor = base;
                        finalColor += colorHigh * fresnel * fresnelInt; // Add Rim Glow
                        finalColor += vec3(1.0) * specular * specularInt; // Add White Highlight

                        gl_FragColor = vec4(finalColor, 1.0);
                    }
                `;

                // Use Icosahedron for smooth sphere base
                // Detail level 64 makes it extremely high poly and smooth
                const geometry = new THREE.IcosahedronGeometry(1, 64);

                // --- UPDATED VALUES FROM USER SCREENSHOT ---
                material = new THREE.ShaderMaterial({
                    uniforms: {
                        time: { value: 0.0 },
                        
                        // Shape
                        roughness: { value: 0.13 },
                        density: { value: 0.6 },
                        
                        // Colors
                        colorBase: { value: new THREE.Color('#4DB6AC') }, 
                        colorDark: { value: new THREE.Color('#3B8080') }, // Lighter shadow for less contrast
                        colorHigh: { value: new THREE.Color('#61CABD') }, // Glow
                        
                        // Lighting
                        fresnelPower: { value: 2.8 },
                        fresnelInt: { value: 0.08 }, // Reduced glow
                        specularInt: { value: 0.10 }, // Reduced gloss
                    },
                    vertexShader: vertexShader,
                    fragmentShader: fragmentShader,
                });

                blob = new THREE.Mesh(geometry, material);
                scene.add(blob);
            }

            function animateBlob() {
                requestAnimationFrame(animateBlob);
                
                // Slow rotation for ambient movement
                blob.rotation.y += 0.002;
                // blob.rotation.z += 0.001; // Removed z rotation to keep it stable like the tuner
                
                // Update time uniform to animate the noise
                // Speed value from screenshot is 0.32. 
                // Logic in Tuner was 0.01 * speed. So:s 0.01 * 0.32 = 0.0032
                material.uniforms.time.value += 0.0032;
                
                renderer.render(scene, camera);
            }

            // Initialize
            window.onload = function () {
                initBlob();
                animateBlob();
            };

            // Responsive resize
            window.addEventListener('resize', () => {
                if (renderer && container) {
                    const w = container.clientWidth;
                    const h = container.clientHeight;
                    renderer.setSize(w, h);
                    camera.aspect = w / h;
                    camera.updateProjectionMatrix();
                }
            });
        });
    </script>
</body>
</html>